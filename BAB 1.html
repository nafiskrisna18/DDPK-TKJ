<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul Interaktif: Proses Bisnis TJKT - Kelas 10 SMK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-active { border-bottom: 3px solid #f97316; color: #ea580c; font-weight: 600; }
        .tab-inactive { color: #64748b; }
        .tab-inactive:hover { color: #334155; }
        
        /* Custom Timeline Styles */
        .timeline-line {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background-color: #e2e8f0;
            z-index: 0;
        }
        
        /* Chart Container Specs */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 300px;
            max-height: 400px;
            margin: 0 auto;
        }

        /* Card Hover Effects */
        .concept-card { transition: all 0.3s ease; }
        .concept-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        /* Answer Reveal Transition */
        .answer-box {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, opacity 0.5s ease-out;
            opacity: 0;
        }
        .answer-box.visible {
            max-height: 500px;
            opacity: 1;
        }
    </style>
    <!-- Chosen Palette: Warm Tech Learning (Neutral Cream #fff7ed, Orange Accents #f97316, Deep Slate #334155) -->
    <!-- Application Structure Plan:
        1. Hero Section: Sets the context for the lesson.
        2. Dynamic Navigation: Tabs to switch between the 3 core topics (Concepts, Stages, Service) and Evaluation.
        3. Content Views:
           - Concept: Uses card grids and flow diagrams to explain 'Business Process'.
           - Stages: An interactive vertical timeline to detail the TJKT project lifecycle (NDLC concept).
           - Service: A simulation/game using a gauge chart to demonstrate the impact of service quality.
           - Evaluation: Interactive essay cards with 'Reveal Answer' functionality for self-study.
    -->
    <!-- Visualization & Content Choices:
        1. "TJKT Project Lifecycle" (Doughnut Chart): Goal: Inform. Shows the proportional effort in a typical project.
        2. "Satisfaction Simulator" (Gauge/Half-Doughnut): Goal: Change. Users click buttons (actions) to see real-time impact on customer satisfaction.
        3. Timeline Flow (HTML/CSS): Goal: Process. Visualizes the sequential nature of NDLC/SDLC without SVG.
        4. Comparison Cards: Goal: Compare. Good vs Bad service traits.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-orange-50 text-slate-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center text-white font-bold text-xl">T</div>
                <div>
                    <h1 class="text-xl font-bold text-slate-900 leading-tight">Dasar TJKT</h1>
                    <p class="text-xs text-slate-500">Modul Pembelajaran Kelas 10 SMK - BAB 1</p>
                </div>
            </div>
            <!-- Mobile Menu Button (Simplified for this view, assuming desktop/tablet primary) -->
            <button class="md:hidden text-slate-600 font-bold">MENU</button>
        </div>
        
        <!-- Navigation Tabs -->
        <nav class="container mx-auto px-4 mt-2 overflow-x-auto">
            <div class="flex space-x-6 border-b border-gray-200 min-w-max" id="nav-container">
                <!-- Tabs injected by JS -->
            </div>
        </nav>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow container mx-auto px-4 py-8" id="main-content">
        <!-- Dynamic Content Injected Here -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 py-8 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2024 Modul Pembelajaran Digital TJKT.</p>
            <p class="text-sm mt-2">Dibuat untuk mempermudah pemahaman siswa SMK Pusat Keunggulan.</p>
        </div>
    </footer>

    <script>
        // --- DATA STORE ---
        const appData = {
            currentTab: 'konsep',
            tabs: [
                { id: 'konsep', label: '1. Konsep Bisnis' },
                { id: 'tahapan', label: '2. Tahapan Proses' },
                { id: 'pelayanan', label: '3. Pelayanan Pelanggan' },
                { id: 'evaluasi', label: 'Rangkuman & Soal' }
            ],
            simulationScore: 50, // For Customer Service Game
            content: {
                konsep: {
                    title: "Konsep Proses Bisnis TJKT",
                    intro: "Selamat datang di Bab 1. Bagian ini menjelaskan apa itu proses bisnis dalam dunia Teknik Jaringan Komputer dan Telekomunikasi. Pahami bagaimana sebuah layanan internet atau aplikasi tidak muncul begitu saja, melainkan melalui serangkaian proses yang terstruktur.",
                    definitions: [
                        {
                            term: "Input (Masukan)",
                            desc: "Sumber daya awal. Contoh: Kabel fiber optik, router, server, permintaan klien, dan tenaga ahli teknisi.",
                            icon: "üì¶"
                        },
                        {
                            term: "Proses (Aktivitas)",
                            desc: "Serangkaian kegiatan mengubah input. Contoh: Instalasi jaringan, konfigurasi mikrotik, crimping kabel, coding aplikasi.",
                            icon: "‚öôÔ∏è"
                        },
                        {
                            term: "Output (Keluaran)",
                            desc: "Hasil akhir yang bernilai bagi pelanggan. Contoh: Koneksi internet stabil, Aplikasi kasir yang berjalan, Web sekolah.",
                            icon: "üöÄ"
                        }
                    ],
                    examples: [
                        "Penyedia Jasa Internet (ISP) memasang WiFi di rumah pelanggan.",
                        "Perusahaan Software House membuat aplikasi absensi sekolah.",
                        "Toko Komputer melayani perakitan PC Gaming."
                    ]
                },
                tahapan: {
                    title: "Tahapan Proses Bisnis (Lifecycle)",
                    intro: "Dalam teknik jaringan, kita mengenal siklus hidup pengembangan jaringan (NDLC - Network Development Life Cycle). Grafik di bawah ini menunjukkan proporsi waktu dan tenaga yang biasanya dihabiskan dalam setiap fase proyek profesional.",
                    steps: [
                        { title: "1. Perencanaan (Planning)", desc: "Mendefinisikan tujuan proyek, jadwal, dan anggaran. Tim bertemu klien untuk memahami visi besar.", color: "bg-blue-100 border-blue-500" },
                        { title: "2. Analisis (Analysis)", desc: "Survei lokasi, cek kebutuhan bandwidth, analisis hardware yang diperlukan, dan prediksi kendala.", color: "bg-indigo-100 border-indigo-500" },
                        { title: "3. Desain (Design)", desc: "Membuat topologi jaringan, skema IP Address, dan rancangan keamanan (firewall).", color: "bg-purple-100 border-purple-500" },
                        { title: "4. Implementasi", desc: "Eksekusi fisik: Penarikan kabel, pasang perangkat, konfigurasi software, dan pengujian (Testing).", color: "bg-orange-100 border-orange-500" },
                        { title: "5. Monitoring & Maintenance", desc: "Memantau lalu lintas data, perbaikan jika down, dan upgrade perangkat berkala.", color: "bg-green-100 border-green-500" }
                    ]
                },
                pelayanan: {
                    title: "Pelayanan Pelanggan (Customer Service)",
                    intro: "Teknologi canggih tidak ada artinya jika pelayanannya buruk. Di bagian ini, kita akan mensimulasikan bagaimana tindakan seorang teknisi mempengaruhi kepuasan pelanggan (Customer Satisfaction/CSAT). Cobalah berinteraksi dengan tombol di bawah!",
                    principles: [
                        "<strong>Respon Cepat:</strong> Menanggapi keluhan internet mati sesegera mungkin.",
                        "<strong>Komunikasi Jelas:</strong> Menjelaskan masalah teknis dengan bahasa yang dimengerti orang awam.",
                        "<strong>Integritas:</strong> Jujur mengenai kerusakan dan biaya perbaikan."
                    ]
                },
                evaluasi: {
                    title: "Rangkuman & Evaluasi Essay",
                    intro: "Mari kita review pemahamanmu. Baca rangkuman singkat di sebelah kiri, lalu tantang dirimu dengan menjawab 5 soal essay di sebelah kanan. Klik tombol untuk mengecek jawabanmu.",
                    summary: [
                        "Proses bisnis adalah sekumpulan aktivitas terstruktur untuk menghasilkan produk/jasa bagi pelanggan.",
                        "Komponen utama: Input (Sumber daya) -> Proses (Aktivitas) -> Output (Hasil).",
                        "Tahapan umum TJKT: Perencanaan, Analisis, Desain, Implementasi, Monitoring.",
                        "Kepuasan pelanggan adalah kunci keberlanjutan bisnis di bidang jasa teknologi."
                    ],
                    questions: [
                        { q: "1. Jelaskan secara sederhana apa yang dimaksud dengan proses bisnis di bidang TJKT!", a: "Proses bisnis di TJKT adalah serangkaian kegiatan terencana yang mengubah sumber daya (hardware, software, skill) menjadi layanan jaringan atau produk telekomunikasi yang bermanfaat bagi pelanggan." },
                        { q: "2. Sebutkan 3 contoh proses bisnis yang ada di jurusan TJKT!", a: "1. Instalasi jaringan internet (ISP).<br>2. Jasa service dan maintenance komputer.<br>3. Pembuatan topologi dan infrastruktur server." },
                        { q: "3. Mengapa tahapan 'Analisis Kebutuhan' sangat penting sebelum melakukan instalasi?", a: "Agar solusi yang diberikan tepat sasaran, tidak membuang biaya untuk alat yang salah, dan meminimalisir kesalahan teknis saat implementasi." },
                        { q: "4. Apa dampak jika seorang teknisi memiliki hard skill hebat tapi soft skill (pelayanan) buruk?", a: "Pelanggan akan merasa tidak dihargai, memberikan review buruk, berhenti berlangganan, dan beralih ke kompetitor, yang berujung pada kerugian bisnis." },
                        { q: "5. Jelaskan apa yang dilakukan pada tahap 'Maintenance'!", a: "Melakukan pemantauan performa jaringan, memperbaiki kerusakan mendadak (troubleshooting), dan melakukan pembaruan (upgrade) perangkat lunak atau keras." }
                    ]
                }
            }
        };

        // --- RENDER FUNCTIONS ---

        function init() {
            renderNav();
            renderContent(appData.currentTab);
        }

        function renderNav() {
            const container = document.getElementById('nav-container');
            container.innerHTML = appData.tabs.map(tab => `
                <button 
                    onclick="switchTab('${tab.id}')"
                    class="py-4 px-2 text-sm font-medium transition-colors duration-200 ${appData.currentTab === tab.id ? 'tab-active' : 'tab-inactive'}"
                >
                    ${tab.label}
                </button>
            `).join('');
        }

        function switchTab(tabId) {
            appData.currentTab = tabId;
            renderNav();
            renderContent(tabId);
        }

        function renderContent(tabId) {
            const main = document.getElementById('main-content');
            
            // Clean up old charts if they exist
            if (window.lifecycleChart instanceof Chart) window.lifecycleChart.destroy();
            if (window.satisfactionChart instanceof Chart) window.satisfactionChart.destroy();

            switch(tabId) {
                case 'konsep':
                    main.innerHTML = renderKonsep();
                    break;
                case 'tahapan':
                    main.innerHTML = renderTahapan();
                    setTimeout(initLifecycleChart, 100);
                    break;
                case 'pelayanan':
                    main.innerHTML = renderPelayanan();
                    setTimeout(initSatisfactionChart, 100);
                    break;
                case 'evaluasi':
                    main.innerHTML = renderEvaluasi();
                    break;
            }
        }

        // --- HTML GENERATORS ---

        function renderKonsep() {
            const data = appData.content.konsep;
            return `
                <div class="animate-fade-in-up">
                    <div class="mb-8 text-center max-w-2xl mx-auto">
                        <h2 class="text-3xl font-bold text-slate-800 mb-3">${data.title}</h2>
                        <p class="text-slate-600">${data.intro}</p>
                    </div>

                    <!-- Flow Diagram -->
                    <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-12 py-8 bg-white rounded-xl shadow-sm border border-slate-100">
                        ${data.definitions.map((item, index) => `
                            <div class="concept-card w-full md:w-1/4 p-6 bg-orange-50 rounded-lg text-center border border-orange-100">
                                <div class="text-4xl mb-3">${item.icon}</div>
                                <h3 class="font-bold text-lg text-slate-800 mb-2">${item.term}</h3>
                                <p class="text-sm text-slate-600">${item.desc}</p>
                            </div>
                            ${index < 2 ? `<div class="hidden md:block text-2xl text-slate-300">‚ûú</div><div class="md:hidden text-2xl text-slate-300">‚¨á</div>` : ''}
                        `).join('')}
                    </div>

                    <!-- Examples Section -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-indigo-600 text-white p-8 rounded-xl flex flex-col justify-center">
                            <h3 class="text-2xl font-bold mb-4">Mengapa Penting?</h3>
                            <p class="mb-4">Tanpa proses bisnis yang jelas, pekerjaan teknisi akan:</p>
                            <ul class="list-disc list-inside space-y-2 text-indigo-100">
                                <li>Tidak terorganisir</li>
                                <li>Sering terjadi kesalahan teknis</li>
                                <li>Biaya membengkak</li>
                                <li>Pelanggan kecewa</li>
                            </ul>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200">
                            <h3 class="text-xl font-bold text-slate-800 mb-4">Contoh Riil di Lapangan</h3>
                            <ul class="space-y-3">
                                ${data.examples.map(ex => `
                                    <li class="flex items-start">
                                        <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-green-100 text-green-600 text-xs font-bold mr-3 mt-0.5">‚úì</span>
                                        <span class="text-slate-700">${ex}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderTahapan() {
            const data = appData.content.tahapan;
            return `
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 animate-fade-in-up">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                            <h2 class="text-2xl font-bold text-slate-800 mb-3">${data.title}</h2>
                            <p class="text-sm text-slate-600 mb-6">${data.intro}</p>
                            
                            <!-- Chart Container -->
                            <div class="chart-container">
                                <canvas id="lifecycleChart"></canvas>
                            </div>
                            <p class="text-xs text-center text-slate-400 mt-2">Estimasi alokasi waktu proyek</p>
                        </div>
                    </div>

                    <div class="lg:col-span-2 relative pl-4 md:pl-0">
                        <!-- Vertical Timeline Line -->
                        <div class="hidden md:block absolute left-8 top-4 bottom-4 w-0.5 bg-slate-200"></div>

                        <div class="space-y-6">
                            ${data.steps.map((step, idx) => `
                                <div class="relative flex flex-col md:flex-row items-start md:items-center gap-4">
                                    <div class="hidden md:flex flex-shrink-0 w-16 h-16 rounded-full bg-white border-4 ${step.color.replace('bg-', 'border-')} items-center justify-center z-10 font-bold text-slate-600 text-xl shadow-sm">
                                        ${idx + 1}
                                    </div>
                                    <div class="flex-grow bg-white p-5 rounded-lg shadow-sm border-l-4 ${step.color} w-full">
                                        <h3 class="font-bold text-lg text-slate-800">${step.title}</h3>
                                        <p class="text-sm text-slate-600 mt-1">${step.desc}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderPelayanan() {
            const data = appData.content.pelayanan;
            return `
                <div class="max-w-4xl mx-auto animate-fade-in-up">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold text-slate-800 mb-3">${data.title}</h2>
                        <p class="text-slate-600 max-w-2xl mx-auto">${data.intro}</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center bg-white p-8 rounded-2xl shadow-lg border border-slate-100">
                        
                        <!-- Simulation Controls -->
                        <div class="space-y-6">
                            <h3 class="text-xl font-bold text-slate-800">Simulasi Teknisi</h3>
                            <p class="text-sm text-slate-500">Pilih tindakan di bawah ini dan lihat dampaknya pada meteran kepuasan:</p>
                            
                            <div class="space-y-3">
                                <button onclick="updateSatisfaction(15)" class="w-full flex justify-between items-center p-4 bg-green-50 hover:bg-green-100 border border-green-200 rounded-lg transition-colors group">
                                    <span class="font-medium text-green-800">Sapa Ramah & 5S</span>
                                    <span class="bg-white text-green-600 text-xs px-2 py-1 rounded shadow-sm group-hover:scale-110 transition-transform">+15 Poin</span>
                                </button>
                                <button onclick="updateSatisfaction(10)" class="w-full flex justify-between items-center p-4 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg transition-colors group">
                                    <span class="font-medium text-blue-800">Solusi Tepat Waktu</span>
                                    <span class="bg-white text-blue-600 text-xs px-2 py-1 rounded shadow-sm group-hover:scale-110 transition-transform">+10 Poin</span>
                                </button>
                                <button onclick="updateSatisfaction(-20)" class="w-full flex justify-between items-center p-4 bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg transition-colors group">
                                    <span class="font-medium text-red-800">Datang Terlambat</span>
                                    <span class="bg-white text-red-600 text-xs px-2 py-1 rounded shadow-sm group-hover:scale-110 transition-transform">-20 Poin</span>
                                </button>
                                <button onclick="updateSatisfaction(-15)" class="w-full flex justify-between items-center p-4 bg-orange-50 hover:bg-orange-100 border border-orange-200 rounded-lg transition-colors group">
                                    <span class="font-medium text-orange-800">Pakaian Tidak Rapi</span>
                                    <span class="bg-white text-orange-600 text-xs px-2 py-1 rounded shadow-sm group-hover:scale-110 transition-transform">-15 Poin</span>
                                </button>
                            </div>
                        </div>

                        <!-- Gauge Chart -->
                        <div class="flex flex-col items-center justify-center p-4 bg-slate-50 rounded-xl">
                            <h4 class="font-bold text-slate-600 mb-4">Meteran Kepuasan Pelanggan</h4>
                            <div class="chart-container" style="height: 250px;">
                                <canvas id="satisfactionChart"></canvas>
                            </div>
                            <div id="satisfaction-text" class="text-center font-bold text-lg mt-[-20px] text-slate-700">Netral</div>
                        </div>
                    </div>

                    <!-- Principles -->
                    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4">
                        ${data.principles.map(p => `
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-100 text-sm text-slate-600 text-center">
                                ${p}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderEvaluasi() {
            const data = appData.content.evaluasi;
            return `
                <div class="animate-fade-in-up">
                    <div class="mb-8 border-b border-slate-200 pb-4">
                        <h2 class="text-3xl font-bold text-slate-800">${data.title}</h2>
                        <p class="text-slate-600 mt-2">${data.intro}</p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                        <!-- Summary Section -->
                        <div class="lg:col-span-4">
                            <div class="bg-orange-500 text-white p-6 rounded-xl shadow-lg sticky top-24">
                                <h3 class="text-xl font-bold mb-4 border-b border-orange-400 pb-2">Rangkuman Materi</h3>
                                <ul class="space-y-4 text-sm leading-relaxed">
                                    ${data.summary.map(item => `
                                        <li class="flex items-start gap-3">
                                            <span class="mt-1 text-orange-200">‚óè</span>
                                            <span>${item}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>

                        <!-- Quiz Section -->
                        <div class="lg:col-span-8 space-y-6">
                            ${data.questions.map((q, idx) => `
                                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                                    <div class="p-6 bg-slate-50 border-b border-slate-100">
                                        <h4 class="font-bold text-slate-800 text-lg">${q.q}</h4>
                                    </div>
                                    <div class="p-6 bg-white">
                                        <div class="flex items-center justify-between mb-4">
                                            <span class="text-xs font-bold text-slate-400 uppercase tracking-wide">Jawaban Essay</span>
                                            <button onclick="toggleAnswer('ans-${idx}')" class="text-sm bg-indigo-100 text-indigo-700 hover:bg-indigo-200 px-4 py-2 rounded-lg font-medium transition-colors">
                                                Lihat Kunci Jawaban
                                            </button>
                                        </div>
                                        <div id="ans-${idx}" class="answer-box bg-indigo-50 rounded-lg p-0">
                                            <div class="p-4 text-indigo-900 leading-relaxed border-l-4 border-indigo-500">
                                                ${q.a}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // --- INTERACTION LOGIC ---

        function toggleAnswer(id) {
            const el = document.getElementById(id);
            const btn = el.previousElementSibling.querySelector('button');
            if (el.classList.contains('visible')) {
                el.classList.remove('visible');
                el.querySelector('div').classList.remove('p-4'); // Remove padding to collapse fully
                btn.textContent = "Lihat Kunci Jawaban";
            } else {
                el.classList.add('visible');
                el.querySelector('div').classList.add('p-4');
                btn.textContent = "Sembunyikan";
            }
        }

        function updateSatisfaction(val) {
            let newScore = appData.simulationScore + val;
            if (newScore > 100) newScore = 100;
            if (newScore < 0) newScore = 0;
            appData.simulationScore = newScore;
            
            // Update Chart
            if (window.satisfactionChart) {
                window.satisfactionChart.data.datasets[0].data = [newScore, 100 - newScore];
                
                // Color logic based on score
                let color = '#ef4444'; // Red
                let status = "Pelanggan Marah üò°";
                
                if (newScore >= 40) { color = '#f97316'; status = "Kurang Puas üòê"; } // Orange
                if (newScore >= 70) { color = '#3b82f6'; status = "Puas üôÇ"; } // Blue
                if (newScore >= 90) { color = '#22c55e'; status = "Sangat Puas! ü§©"; } // Green

                window.satisfactionChart.data.datasets[0].backgroundColor = [color, '#e2e8f0'];
                window.satisfactionChart.update();
                
                document.getElementById('satisfaction-text').innerHTML = status;
                document.getElementById('satisfaction-text').style.color = color;
            }
        }

        // --- CHART INITIALIZERS ---

        function initLifecycleChart() {
            const ctx = document.getElementById('lifecycleChart').getContext('2d');
            window.lifecycleChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Perencanaan', 'Analisis', 'Desain', 'Implementasi', 'Maintenance'],
                    datasets: [{
                        data: [15, 20, 15, 30, 20],
                        backgroundColor: [
                            '#3b82f6', // Blue
                            '#6366f1', // Indigo
                            '#a855f7', // Purple
                            '#f97316', // Orange
                            '#22c55e'  // Green
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.raw + '% Usaha';
                                }
                            }
                        }
                    }
                }
            });
        }

        function initSatisfactionChart() {
            const ctx = document.getElementById('satisfactionChart').getContext('2d');
            
            // Set initial color
            let color = '#f97316';
            if (appData.simulationScore >= 70) color = '#3b82f6';
            
            window.satisfactionChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Kepuasan', 'Sisa'],
                    datasets: [{
                        data: [appData.simulationScore, 100 - appData.simulationScore],
                        backgroundColor: [color, '#e2e8f0'],
                        borderWidth: 0,
                        circumference: 180,
                        rotation: 270
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    },
                    cutout: '75%'
                }
            });
            
            // Initial text set
            document.getElementById('satisfaction-text').innerText = "Cukup Puas üòê";
        }

        // Init App
        init();

    </script>
</body>
</html>